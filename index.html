<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <style>

        body{
            background-image: url(./images/orfeas-green-G5A5ZNjS2tE-unsplash.jpg);
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            padding-bottom: 75px;
        }
        .flex-container{
            display: flex;
            justify-content: center;
        }
        .loginContainer{
            background-color: rgb(255, 255, 255) ;
            width: 70%;
            margin-top: 100px;
            /* border: solid 3px rgb(16, 19, 87, 0.8); */
            -webkit-box-shadow: 0px 4px 15px 5px rgba(0,0,0,0.5); 
            box-shadow: 0px 4px 15px 5px rgba(0,0,0,0.5);
        }

        img{
            height: 175px;
            width: 175px;
        }

        h3{
            text-align: center;
            font-family: "Raleway", sans-serif;
            font-weight: 600;
            font-style: normal;
        }

        h5, h1{
            font-family: "Raleway", sans-serif;
            font-weight: 600;
            font-style: normal;
        }
        

        .canadaSelection{
            display: none;
        }

        .internationalSelection{
            display: none;
        }



         button{
            border-radius: 5px;
            color: rgb(255, 255, 255, 0);
            font-family: "Raleway", sans-serif;
            font-weight: 700;
            font-style: normal;
            height: 40px;
            border: none;
        }
        .btn-primary{
            --bs-btn-bg: rgba(231, 137, 13, 0.878);
            --bs-btn-hover-bg: #e7890dab;
            --bs-btn-border-color: none;
        }
        
        .btn:disabled{
            background-color: rgba(231, 137, 13, 0.671);
        }

         button:hover{
            background-color: #e7890db4;
            transition: .2s;

        }

        .form-text{
            color: red;
        }

        @media only screen and (min-width: 768px) and (max-width: 992px){
            .loginContainer{
                width: 100%;
            }
            .thankYouMessage{
                margin-bottom: 200px;
            }
        }

        @media only screen and (min-width: 568px) and (max-width: 767px){
            .loginContainer{
                width: 100%;
            }
            .thankYouMessage{
                margin-bottom: 200px;
            }
        }

        @media only screen and (max-width: 567px){
            .loginContainer{
                width: 100%;
            }

            img{
                height: 100px;
                width: 100px;
            }

            .thankYouMessage{
                margin-bottom: 200px;
            }

            
        }

       

        .emailError, .yearError, .postalError, .sinError, .passportError{
            display: none;
        }

        .thankYouMessage{
            background-color: white ;
            width: 70%;
            margin-top: 100px;
            /* border: solid 3px rgb(16, 19, 87, 0.8); */
            -webkit-box-shadow: 0px 4px 15px 5px rgba(0,0,0,0.5); 
            box-shadow: 0px 4px 15px 5px rgba(0,0,0,0.5);
            display: none;
        }

        .thankYouFlex{
            align-items: center;
            flex-direction: column;
        }

    </style>
</head>
<body>
    <div class="flex-container">
        <div class="container loginContainer rounded-4 p-5">
            <h3 class="mb-3">Contact Form</h3>
            <h6 style="text-align: center;">Please fill in the following information.</h6>
                <h5 class="my-5">Student Information:</h5>
            <div class="row">
                <div class="firstNameInput col-lg-4 col-md-6 col-sm-12 mb-3">
                    <label for="firstName" class="form-label">First Name</label>
                    <input type="text" class="form-control" id="firstName" placeholder="">

                </div>
                <div class="middleNameInput col-lg-4 col-md-6 col-sm-12 mb-3">
                    <label for="middleName" class="form-label">Middle Name</label>
                    <input type="text" class="form-control" id="middleName" placeholder="">
                    
                </div>
                <div class="lastNameInput col-lg-4 col-md-6 col-sm-12 mb-3">
                    <label for="lastName" class="form-label">Last Name</label>
                    <input type="text" class="form-control" id="lastName" placeholder="">
                </div>
                
                        <div class="emailIinput mb-3 col-lg-6 col-md-12 col-sm-12">
                            <label for="email" class="form-label">Email Address</label> 
                            <input type="email" class="form-control" id="email" placeholder="">
                            <div class="form-text emailError"> Please input email in johndoe@gmail.com format.*</div>
                        </div>
                        <div class="dayInput mb-3 col-lg-2 col-md-4 col-sm-4 col-4">
                            <label for="day" class="form-label">Day</label>
                            <select class="form-select" aria-label="Default select example" id="day">
                                <option value="0"></option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                                <option value="19">19</option>
                                <option value="20">20</option>
                                <option value="21">21</option>
                                <option value="22">22</option>
                                <option value="23">23</option>
                                <option value="24">24</option>
                                <option value="25">25</option>
                                <option value="26">26</option>
                                <option value="27">27</option>
                                <option value="28">28</option>
                                <option value="29">29</option>
                                <option value="30">30</option>
                                <option value="31">31</option>
                            </select>
                        </div>
                        <div class="monthInput mb-3 col-lg-2 col-md-4 col-sm-4 col-4">
                            <label for="month" class="form-label">Month</label>
                            <select class="form-select" aria-label="Default select example" id="month">
                                <option value="0"></option>
                                <option value="1">January</option>
                                <option value="2">February</option>
                                <option value="3">March</option>
                                <option value="4">April</option>
                                <option value="5">May</option>
                                <option value="6">June</option>
                                <option value="7">July</option>
                                <option value="8">August</option>
                                <option value="9">September</option>
                                <option value="10">October</option>
                                <option value="11">November</option>
                                <option value="12">December</option>
                            </select>
                        </div>
                        <div class="yearInput mb-3 col-lg-2 col-md-4 col-sm-4 col-4">
                            <label for="year" class="form-label">Year</label>
                            <input type="text" class="form-control" id="year" placeholder="">
                            <div class="form-text yearError">Must be 18 or older.*</div>
                        </div>
            </div>
                <h5 class="mt-4 mb-2">Country:</h5>
            <div class="row">
                <div class="countryDropdown mb-5 col-lg-4 col-md-6 col-sm-12 col-12">
                    <label for="country" class="form-label"></label>
                    <select class="form-select" aria-label="Default select example" id="country">
                        <option selected value="selected">Select Country</option>
                        <option value="canada">Canada</option>
                        <option value="international">International</option>
                    </select>
                </div>
            </div>
            <fieldset class="canadaSelection border rounded-3 p-3 mb-5">
            <legend class="float-none w-auto px-3">Canada</legend>
                <div class="row">
                    <div class="streetName col-lg-6 col-md-12 col-sm-12 mb-3">
                        <label for="street" class="form-label">Street</label>
                        <input type="text" class="form-control" id="street" placeholder="">
                    </div>
                    <div class="cityName col-lg-6 col-md-6 col-sm-12 mb-3">
                        <label for="city" class="form-label">City</label>
                        <input type="text" class="form-control" id="city" placeholder="">  
                    </div>
                    <div class="provinceIput col-lg-4 col-md-6 col-sm-12 mb-3">
                        <label for="province" class="form-label">Province</label>
                            <select class="form-select" aria-label="Default select example" id="province">
                                <option value="0"></option>
                                <option value="1">Alberta</option>
                                <option value="2">British Columbia</option>
                                <option value="3">Manitoba</option>
                                <option value="4">New Brunswick</option>
                                <option value="5">Newfoundland</option>
                                <option value="6">Northwest Territories</option>
                                <option value="7">Nova Scotia</option>
                                <option value="8">Nunavut</option>
                                <option value="9">Ontario</option>
                                <option value="10">PEI</option>
                                <option value="11">Quebec</option>
                                <option value="12">Saskatchewan</option>
                                <option value="12">Yukon</option>
                            </select>
                    </div>
                    <div class="postalInput col-lg-4 col-md-6 col-sm-6 col-6 mb-3">
                        <label for="postalCode" class="form-label">Postal Code</label>
                        <input type="text" class="form-control" id="postalCode" placeholder="">
                        <div class="form-text postalError">Please input proper V1V 1V1 format.*</div>
                    </div>
                    <div class="sinNumber col-lg-4 col-md-6 col-sm-6 col-6 mb-3">
                        <label for="sin" class="form-label">SIN Number</label>
                        <input type="text" class="form-control" id="sin" placeholder="">  
                        <div class="form-text sinError">Invalid SIN number.*</div>
                    </div>
                </div>
            </fieldset>
            <fieldset class="internationalSelection border rounded-3 p-3 mb-5">
                <legend class="float-none w-auto px-3">International</legend>
                <div class="row">
                    <div class="passportNumber col-lg-6 col-md-6 col-sm-12 mb-3">
                        <label for="passport" class="form-label">Passport Number</label>
                        <input type="text" class="form-control" id="passport" placeholder="">
                        <div class="form-text passportError">Invalid passport number.*</div>
                    </div>
                </div>
            </fieldset>
            <button class="btn btn-primary w-100" disabled id="submit">Submit Form</button>
        </div>
    </div>
    <div class="flex-container">
    <div class="container thankYouMessage rounded-4 p-5">
        <div class="thankYouFlex d-flex">
        <img src="./images/checkmark.webp" alt="">
        <h1 class="mb-3">Thank you!</h1>
        <h3 class="mb-3">The form has successfully been submitted.</h3>
        <h5 style="text-align: center;">You will recieve a confirmation email shortly.</h5>
        </div>
    </div>
</div>
    
</body>
<script>

    function alphaOnly(a) {
            var b = '';
            for (var i = 0; i < a.length; i++) {
                if (a[i] >= 'A' && a[i] <= 'z' && a[i] != "_" && a[i] != "^") b += a[i];
            }
            return b;
        }

        function isLetter(c) {
        return c.toLowerCase() != c.toUpperCase();
    }

    function hasNumber(myString) {
        return /\d/.test(myString);
    }

    function isUpperCase(myString) {
        return (myString == myString.toUpperCase());
    }


    function isValid(email){
        let oneAtSymbol = false;
        let oneCharBeforeAt = false;
        let oneCharAfterAt = false;
        let domainHasOnePeriod = false;
        let domainExtHasTwo = false;

        if(email.split("@").length == 2){
            oneAtSymbol = true;
            let emailName = email.split("@")[0];
            let domainName = email.split("@")[1];

            if(emailName.length >= 1){
                oneCharBeforeAt = true;
            }

            if(domainName.split(".").length == 2){
                domainHasOnePeriod = true;

                let domainExt = domainName.split(".")[1];
                if(domainExt.length >= 2){
                    domainExtHasTwo = true;
                }

                if(domainName.split(".")[0].length >= 1){
                    oneCharAfterAt = true;
                }
            }

        }

        if(oneAtSymbol && oneCharBeforeAt && oneCharAfterAt && domainHasOnePeriod && domainExtHasTwo){
            return true;
        } else {
            return false;
        }

    }

    function yearValidation(n){
        if (n <= 2006){
            return true
        } else {
            return false
        }
    }

    function isValidPC(pc){
        let length7Chars = false;
        let threeLetters = false;
        let threeIntegers = false;
        let isSpace = false;

        if(pc.length == 7){

            length7Chars = true;

            if(isLetter(pc.charAt(0)) && isUpperCase(pc.charAt(0))
             && isLetter(pc.charAt(2)) && isUpperCase(pc.charAt(2))
             && isLetter(pc.charAt(5)) && isUpperCase(pc.charAt(5))){

                threeLetters = true;
            }
            // Check if int   | convert int | find the char at position
            if(Number.isInteger(parseInt(pc.charAt(1)))
             && Number.isInteger(parseInt(pc.charAt(4)))
             && Number.isInteger(parseInt(pc.charAt(6)))){

                threeIntegers = true;
            }

            if(pc.charAt(3) == " "){
                isSpace = true;
            }
        }

        if(length7Chars && threeLetters && threeIntegers && isSpace){
            return true;
        } else {
            return false;
        }

    }

    function isValidPassport(passport){
        let length10Chars = false;
        let fiveLetters = false;
        let fiveIntegers = false;

        if(passport.length == 10){

            length10Chars = true;

            if(isLetter(passport.charAt(0)) && isUpperCase(passport.charAt(0))
             && isLetter(passport.charAt(1)) && isUpperCase(passport.charAt(1))
             && isLetter(passport.charAt(2)) && isUpperCase(passport.charAt(2))
             && isLetter(passport.charAt(8)) && isUpperCase(passport.charAt(8))
             && isLetter(passport.charAt(9)) && isUpperCase(passport.charAt(9))){

                fiveLetters = true;
            }
            // Check if int   | convert int | find the char at position
            if(Number.isInteger(parseInt(passport.charAt(3)))
             && Number.isInteger(parseInt(passport.charAt(4)))
             && Number.isInteger(parseInt(passport.charAt(5)))
             && Number.isInteger(parseInt(passport.charAt(6)))
             && Number.isInteger(parseInt(passport.charAt(7)))){

                fiveIntegers = true;
            }
        }

        if(length10Chars && fiveLetters && fiveIntegers){
            return true;
        } else {
            return false;
        }

    }

    

    $("document").ready(function(){

        let checkFirstName = false;
        let checkLastName = false;
        let checkEmailAddress = false;
        let checkYear = false;
        let checkCountry = false;
        let checkPassport = false;
        let checkSin = false;
        let checkStreet = false;
        let checkCity = false;
        let checkPostalCode = false;

        function enableDisableSubmit(){
            if(checkFirstName && checkLastName && checkEmailAddress && checkYear && checkCountry && (checkSin && checkStreet && checkCity && checkPostalCode) || (checkPassport)){
                $("#submit").attr("disabled", false);
            } else {
                $("#submit").attr("disabled", true);
            }
        }


        $("#firstName").on("keyup", function(){
            let userInput = $("#firstName").val();

            if(alphaOnly(userInput).length >= 2 && hasNumber(userInput) == false){
                $("#firstName").addClass("is-valid").removeClass("is-invalid");
                
                checkFirstName = true;
                
            } else {
                $("#firstName").addClass("is-invalid").removeClass("is-valid");
                checkFirstName = false;
            }

            enableDisableSubmit();
        })

        $("#lastName").on("keyup", function(){
            let userInput = $("#lastName").val();

            if(alphaOnly(userInput).length >= 2 && hasNumber(userInput) == false){
                $("#lastName").addClass("is-valid").removeClass("is-invalid");
                
                checkLastName = true;
                
            } else {
                $("#lastName").addClass("is-invalid").removeClass("is-valid");
                checkLastName = false;
                
            }
            enableDisableSubmit();
        })

        $("#email").on("keyup", function(){
            let userInput = $("#email").val();

            if(isValid(userInput)){
                $("#email").addClass("is-valid").removeClass("is-invalid");
                $(".emailError").hide();
                checkEmailAddress = true;
            } else{
                $("#email").addClass("is-invalid").removeClass("is-valid");
                $(".emailError").show();
                checkEmailAddress = false;
                
            }

            enableDisableSubmit()
        })

        $("#year").on("keyup", function(){
            let yearInput = $("#year").val();

            if(alphaOnly(yearInput).length == 0 && yearInput.toString().length == 4 && !isNaN(yearInput) && yearValidation(yearInput)){
                $("#year").addClass("is-valid").removeClass("is-invalid");
                $(".yearError").hide();
                checkYear = true;
            } else {
                $("#year").addClass("is-invalid").removeClass("is-valid");
                $(".yearError").show();
                checkYear = false;
            }

            enableDisableSubmit()
        })

        $("#country").on("change", function(){

            let userSelection = $("#country").find(":selected").val();
            if(userSelection == 'canada'){
                $(".canadaSelection").fadeOut().fadeIn();
                $(".internationalSelection").hide();
                checkCountry = true;
                
            } if(userSelection == 'international'){
                $(".internationalSelection").fadeOut().fadeIn();
                $(".canadaSelection").hide();
                checkCountry = true;
                
            } if(userSelection == 'selected'){
                $(".internationalSelection").hide();
                $(".canadaSelection").hide();
                checkCountry = false;
                
            }
            enableDisableSubmit()
       })

       $("#street").on("keyup", function(){
            let streetInput = $("#street").val();

            if(streetInput.length >= 3){
                $("#street").addClass("is-valid").removeClass("is-invalid");
                
                checkStreet = true;
            } else {
                $("#street").addClass("is-invalid").removeClass("is-valid");
                checkStreet = false;
            }
            enableDisableSubmit()
        })

        $("#city").on("keyup", function(){
            let cityInput = $("#city").val();

            if(alphaOnly(cityInput).length >= 2 && hasNumber(cityInput) == false){
                $("#city").addClass("is-valid").removeClass("is-invalid");
                
                checkCity = true;
            } else {
                $("#city").addClass("is-invalid").removeClass("is-valid");
                checkCity = false;
            }
            enableDisableSubmit()
        })
        
        $("#sin").on("keyup", function(){
            let sinInput = $("#sin").val();

            if(alphaOnly(sinInput).length == 0 && sinInput.toString().length == 9 && !isNaN(sinInput)){
                $("#sin").addClass("is-valid").removeClass("is-invalid");
                $(".sinError").hide();
                checkSin = true;
            } else {
                $("#sin").addClass("is-invalid").removeClass("is-valid");
                $(".sinError").show();
                checkSin = false;
            }
            enableDisableSubmit();
        })

        $("#postalCode").on("keyup", function(){

            if(isValidPC($("#postalCode").val())){
                $("#postalCode").addClass("is-valid").removeClass("is-invalid");
                $(".postalError").hide();
                checkPostalCode = true;
            } else{
                $("#postalCode").addClass("is-invalid").removeClass("is-valid");
                $(".postalError").show();
                checkPostalCode = false;
            }
            enableDisableSubmit();
        })

        $("#passport").on("keyup", function(){

            if(isValidPassport($("#passport").val())){
                $("#passport").addClass("is-valid").removeClass("is-invalid");
                $(".passportError").hide();
                checkPassport = true;
            } else{
                $("#passport").addClass("is-invalid").removeClass("is-valid");
                $(".passportError").show();
                checkPassport = false;
            }
            enableDisableSubmit();
        })

        $("#submit").on("click", function(){

            let json = {
                firstName: $("#firstName").val(),
                middleName: $("#middleName").val(),
                lastName: $("#lastName").val(),
                email: $("#email").val(),
                DOB: {
                        date: $("#day").val(),
                        month: $("#month").val(),
                        year: $("#year").val()
                    },
                country: $("#country").val(),
                canada: {
                        street: $("#street").val(),
                        city: $("#city").val(),
                        province: $("#province").val(),
                        postalCode: $("#postalCode").val(),
                        sinNumber: $("#sin").val()
                    },
                international: {
                        passportNumber: $("#passport").val()
                }
                
            }

            console.log(json);


            $(".loginContainer").hide();
            $(".thankYouMessage").show();


        })



    });


</script>
</html>